# Swift 五目並べへのコントリビューション

Swift 五目並べへのコントリビューションを検討していただき、ありがとうございます！あなたのような方々のおかげで、Swift 五目並べは素晴らしいツールとなっています。

## 行動規範

このプロジェクトに参加することで、以下の行動規範を守ることが期待されます：

- 歓迎的で包括的な言葉遣いを使用する
- 異なる視点や経験を尊重する
- 建設的な批判を優雅に受け入れる
- コミュニティにとって最善のことに焦点を当てる
- 他のコミュニティメンバーへの共感を示す

## どのようにコントリビューションできますか？

### バグの報告

バグレポートを作成する前に、既存の issue を確認してください。新しく作成する必要がないかもしれません。バグレポートを作成する際は、可能な限り多くの詳細を含めてください：

- **問題を特定するための明確で説明的なタイトル**を使用
- **問題を再現する正確な手順**を可能な限り詳細に記述
- **手順を示す具体的な例**を提供
- **手順に従った後に観察された動作**を説明し、その動作の何が問題なのかを正確に指摘
- **代わりに期待される動作とその理由**を説明
- **説明した手順に従っていることを示し、問題を明確に示すスクリーンショット**を含める
- **macOSバージョンとXcodeバージョン**を含める

### 機能強化の提案

機能強化の提案は GitHub issue として追跡されます。機能強化の提案を作成する際は、以下を含めてください：

- **提案を特定するための明確で説明的なタイトル**を使用
- **提案された機能強化の段階的な説明**を可能な限り詳細に提供
- **手順を示す具体的な例**を提供するか、Swift 五目並べの関連部分を指摘
- **現在の動作**を説明し、**代わりに期待される動作とその理由**を説明
- **手順を示したり、提案が関連する Swift 五目並べの部分を指摘するのに役立つスクリーンショットやアニメーションGIF**を含める
- **この機能強化がほとんどの Swift 五目並べユーザーにとって有用である理由**を説明

### 初めてのコードコントリビューション

どこからコントリビューションを始めるか分からない？これらの `beginner` と `help-wanted` issue から始めることができます：

- [初心者向け issue](https://github.com/SilentMalachite/Swift-Gomoku/labels/beginner) - 数行のコードとテスト1〜2個で済む issue
- [ヘルプ募集 issue](https://github.com/SilentMalachite/Swift-Gomoku/labels/help%20wanted) - `beginner` issue よりも少し複雑な issue

### プルリクエスト

ここで説明するプロセスには、いくつかの目標があります：

- Swift 五目並べの品質を維持する
- ユーザーにとって重要な問題を修正する
- Swift 五目並べを最高のものにするためにコミュニティを巻き込む
- Swift 五目並べのメンテナーがコントリビューションをレビューするための持続可能なシステムを実現する

メンテナーにコントリビューションを検討してもらうには、以下の手順に従ってください：

1. **リポジトリをフォーク**し、`main` からブランチを作成
2. **フォークをローカルにクローン**
3. **新しい git ブランチで変更を行う**：
   ```bash
   git checkout -b my-fix-branch main
   ```
4. **必要に応じてテストを作成/更新**
5. **テストスイートがパスすることを確認**
6. **既存のスタイルに従ってコードを書く**（SwiftLint が役立ちます）
7. **コミットメッセージ規約に従って変更をコミット**
8. **ブランチを GitHub にプッシュ**：
   ```bash
   git push origin my-fix-branch
   ```
9. GitHub ウェブサイトから**プルリクエストを送信**

#### コミットメッセージガイドライン

- 現在形を使用（「Added feature」ではなく「Add feature」）
- 命令形を使用（「Moves cursor to...」ではなく「Move cursor to...」）
- 最初の行を72文字以下に制限
- 最初の行の後で issue とプルリクエストを自由に参照
- 適切な絵文字でコミットメッセージを始めることを検討：
  - 🎨 `:art:` コードの形式/構造を改善する場合
  - 🐎 `:racehorse:` パフォーマンスを改善する場合
  - 📝 `:memo:` ドキュメントを書く場合
  - 🐛 `:bug:` バグを修正する場合
  - 🔥 `:fire:` コードやファイルを削除する場合
  - ✅ `:white_check_mark:` テストを追加する場合
  - 🔒 `:lock:` セキュリティを扱う場合
  - ⬆️ `:arrow_up:` 依存関係をアップグレードする場合
  - ⬇️ `:arrow_down:` 依存関係をダウングレードする場合

## 開発セットアップ

### 前提条件

- macOS 13.0 以降
- Xcode 14.0 以降
 - Swift 5.7 以降
- Git

### 始め方

1. GitHub でリポジトリをフォーク
2. フォークをローカルにクローン：
   ```bash
   git clone https://github.com/SilentMalachite/Swift-Gomoku.git
   cd Swift-Gomoku
   ```
3. Xcode でプロジェクトを開く：
   ```bash
   open Gomoku.xcodeproj
   ```
4. プロジェクトをビルド（⌘B）して、すべてが正しくセットアップされていることを確認
5. テストを実行（⌘U）して、テストスイートがパスすることを確認

### テストの実行

変更を送信する前に、すべてのテストがパスすることを確認してください：

```bash
# ユニットテストを実行
xcodebuild test -scheme Gomoku -destination 'platform=iOS Simulator,name=iPhone 15' -only-testing:GomokuTests

# UIテストを実行
xcodebuild test -scheme Gomoku -destination 'platform=iOS Simulator,name=iPhone 15' -only-testing:GomokuUITests
```

### UI識別子の原則（重要）

UIテストは表示テキストに依存せず、以下のアクセシビリティ識別子を使用してください：

- 盤面とセル/石: `GameBoard`, `Cell_{row}_{col}`, `Stone_{color}_{row}_{col}`
- 操作: `AI Enabled`, `New Game`, `AI Move`
- 状態表示: `CurrentPlayerLabel`, `AIStatusLabel`, `WinnerLabel`

表示文言はローカライズされるため、`staticTexts["..."]` のような固定文字列参照は避け、識別子ベースで選択/検証してください。

### ローカライズ方針

- 文字列は `NSLocalizedString` で参照し、`Localizable.strings` にキーを定義します。
- 既定（Base）は `Gomoku/Base.lproj/Localizable.strings`、日本語は `Gomoku/ja.lproj/Localizable.strings` に追加します。
- 新規UIやエラーメッセージを追加する場合は、必ず各言語にキーを追加し、レビュー時に翻訳が欠落していないことを確認してください。

## スタイルガイド

### Swift スタイルガイド

- [Swift API デザインガイドライン](https://swift.org/documentation/api-design-guidelines/)に従う
- インデントに4つのスペースを使用（Xcode を適切に設定）
- 可能な限り `var` より `let` を優先
- 意味のある変数名と関数名を使用
- 関数を小さく、単一のタスクに焦点を当てる
- 自己文書化コードを書き、必要な場合のみコメントを追加
- コードがより明確になる場合は Swift の型推論を使用
- プロジェクトで使用されている MVVM アーキテクチャパターンに従う
- すべてのパブリック API にドキュメントコメントがあることを確認

### コードの整理

- 関連する機能をまとめる
- エクステンションを使用してコードを論理的に整理
- 既存のファイル構造と命名規則に従う
- UI関連のコードを適切な View ファイルに配置
- ビジネスロジックを ViewModel または Model ファイルに保持
- レイヤー間の関心事の分離を維持

### ドキュメントスタイルガイド

- [Markdown](https://daringfireball.net/projects/markdown/)を使用
- 関数とクラスをバッククォートで参照：`GameBoard`
- 複数行のコードにはコードブロックを使用
- Swift ドキュメントコメントですべてのパブリック API を文書化
- 役立つ場合はドキュメントに例を含める
- ドキュメントをコードの変更と同期させる

## テストガイドライン

### テストの作成

- すべての新機能に対してテストを作成
- AAA パターンに従う：Arrange（準備）、Act（実行）、Assert（検証）
- 何がテストされているかを説明する説明的なテスト名を使用
- エッジケースとエラー条件をテスト
- テストカバレッジを80%以上に維持
- 外部依存関係を適切にモック

### テスト構造

```swift
func testDescriptiveNameExplainingWhatIsBeingTested() {
    // Arrange（準備）
    let viewModel = GameViewModel()
    
    // Act（実行）
    viewModel.makeMove(at: Position(row: 7, col: 7))
    
    // Assert（検証）
    XCTAssertEqual(viewModel.currentPlayer, .white)
}
```

## レビュープロセス

### 期待すべきこと

1. **初期レビュー**: メンテナーが3〜5日以内にPRをレビュー
2. **フィードバック**: コメントや変更リクエストを受け取る可能性
3. **更新**: 要求された変更を行い、ブランチにプッシュ
4. **承認**: 承認されたら、PRがマージされる
5. **認識**: コントリビューションが認められる

### レビュー基準

- コード品質とスタイルガイドへの準拠
- テストカバレッジと品質
- ドキュメントの完全性
- パフォーマンスへの影響
- セキュリティの考慮事項
- 既存機能との互換性

## コミュニティ

### ヘルプを得る

- 既存の issue とディスカッションを確認
- issue のコメントで質問
- 忍耐強く、敬意を持つ
- 可能な時は他の人を助ける

### 行動規範違反

行動規範の違反を目撃したり経験した場合：

1. インシデントを文書化
2. プロジェクトメンテナーに報告
3. 調査のための時間を待つ
4. 解決プロセスを尊重

## 認識

承認されたプルリクエストを送信したコントリビューターは以下で認識されます：

- プロジェクトの README.md コントリビューターセクション
- 重要なコントリビューションのリリースノート
- 特別なコントリビューションへの特別な言及

Swift 五目並べへのコントリビューションありがとうございます！🎮
